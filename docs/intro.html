<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.38.4">
    <meta name="project" content="ConcreteOptics v0.1.0">


    <title>Introduction — ConcreteOptics v0.1.0</title>

    <link rel="stylesheet" href="dist/html-elixir-RLZO5U2C.css" />

    <script defer src="dist/sidebar_items-F1C3FD49.js"></script>
    <script defer src="docs_config.js"></script>
    <script defer src="dist/html-Y223O6DN.js"></script>

  </head>
  <body>
    <script>(()=>{var t="ex_doc:settings",e="dark";var o="dark",s="light";var E="sidebar_state",n="closed";var r="sidebar_width";var a="sidebar-open";var i=new URLSearchParams(window.location.search),S=i.get("theme")||JSON.parse(localStorage.getItem(t)||"{}").theme;(S===o||S!==s&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&document.body.classList.add(e);var d=sessionStorage.getItem(E),A=d!==n&&!window.matchMedia(`screen and (max-width: ${768}px)`).matches;document.body.classList.toggle(a,A);var c=sessionStorage.getItem(r);c&&document.body.style.setProperty("--sidebarWidth",`${c}px`);var p=/(Macintosh|iPhone|iPad|iPod)/.test(window.navigator.userAgent);document.documentElement.classList.toggle("apple-os",p);})();
</script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

      <div>
        <a href="https://sonatsuer.github.io/concrete_optics/ConcreteOptics.html" class="sidebar-projectName" translate="no">
ConcreteOptics
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v0.1.0
        </div>
      </div>
    </div>
    <ul id="sidebar-list-nav" class="sidebar-list-nav" role="tablist" data-extras=""></ul>
  </div>
</nav>

<output role="status" id="toast"></output>

<main class="content page-extra" id="main" data-type="extras">
  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of ConcreteOptics</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search" tabindex="-1">
            <i class="ri-search-2-line ri-lg" aria-hidden="true"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <div class="heading-with-actions top-heading">
    <h1>Introduction to ConcreteOptics</h1>


      <a href="https://github.com/sonatsuer/concrete_optics/blob/main/doc-extras/intro.md#L1" title="View Source" class="icon-action" rel="help">
        <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        <span class="sr-only">View Source</span>
      </a>

  </div>


<h2 id="tl-dr" class="section-heading"><a href="#tl-dr" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">TL;DR</span></h2><p>Optics are general and composable constructions that allow bidirectional access to immutable data.</p><p>Here is an example of an optic --a traversal to be more precise-- which focuses on positive elements with key <code class="inline">:a</code> inside a map inside a vector.</p><pre><code class="makeup elixir" translate="no"><span class="c1">#TODO</span></code></pre><h2 id="implementation-idea" class="section-heading"><a href="#implementation-idea" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Implementation Idea</span></h2><p>The idea is from <a href="https://github.com/sonatsuer/concrete-optics">concrete optics for clojure</a>. The implementation and documentation are adapted from that repo.</p><p>There is a very general <a href="https://ncatlab.org/nlab/show/optic+%28in+computer+science%29">definition</a> of optics which relies on a nontrivial amount of mathematical background. We will not be working with that here. Instead, we will take a more <em>concrete</em> approach and work with certain capabilities an optic can have. Behind the curtains, each optic will be a map of capabilities.</p><p>As a simple mental model, we can think of an optic connecting a <em>big</em> whole to a <em>small</em> part. Sometimes we say that the optic focuses on the small part. Here is a list of capabilities with their intuitive meanings:</p><ul><li><strong>view</strong>: Gives you the small part of the whole. Typically field accessors are views.</li><li><strong>to_list</strong>: Very much like <strong>view</strong>, but instead of a single element it focuses on many --possibly zero-- elements.</li><li><strong>review</strong>: Given an element of the small part, constructs a big whole. Typically sum type constructors are reviews.</li><li><strong>over</strong>: Turns a transformation over the small part into a transformation of the whole.</li><li><strong>traverse</strong>: Allows you to perform a &quot;structured for loop&quot; over the focus.</li></ul><p>There are also formal laws we expect these capabilities to satisfy. You can find their precise formulations in the test modules.</p><p>Here is a table which classifies optics in terms of their capabilities.</p><table><thead><tr><th style="text-align: left;"></th><th style="text-align: center;">view</th><th style="text-align: center;">to_list</th><th style="text-align: center;">review</th><th style="text-align: center;">over</th><th style="text-align: center;">traverse</th></tr></thead><tbody><tr><td style="text-align: left;">isomorphism</td><td style="text-align: center;">✓</td><td style="text-align: center;">✓</td><td style="text-align: center;">✓</td><td style="text-align: center;">✓</td><td style="text-align: center;">✓</td></tr><tr><td style="text-align: left;">lens</td><td style="text-align: center;">✓</td><td style="text-align: center;">✓</td><td style="text-align: center;"></td><td style="text-align: center;">✓</td><td style="text-align: center;">✓</td></tr><tr><td style="text-align: left;">prism</td><td style="text-align: center;"></td><td style="text-align: center;">✓</td><td style="text-align: center;">✓</td><td style="text-align: center;">✓</td><td style="text-align: center;">✓</td></tr><tr><td style="text-align: left;">traversal</td><td style="text-align: center;"></td><td style="text-align: center;">✓</td><td style="text-align: center;"></td><td style="text-align: center;">✓</td><td style="text-align: center;">✓</td></tr></tbody></table><p>When we compose two optics, we compose their corresponding capabilities. If a capability is not a common capability of the optics then it is lost. For instance composition of two optics of the same kind is another of the same kind. An optic and its composition with an isomorphism are of the same kind since isomorphisms have all the capabilities. But the composition of a prism and a lens is a traversal.</p><h2 id="what-is-missing" class="section-heading"><a href="#what-is-missing" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">What is Missing</span></h2><p>This framework can easily support the optics <code class="inline">getter</code> (which has <code class="inline">view</code> and <code class="inline">to_list</code>), <code class="inline">setter</code> (which has <code class="inline">over</code>) and <code class="inline">fold</code> (which has <code class="inline">to_list</code>). I omitted them since they are not as useful.</p><p>There is a general notion of duality in optics where you change the roles of the whole and the piece. For instance the function <code class="inline">invert_iso</code> is an implementation of this idea. However, in this capability only formalism, it is not possible to invert, say, a prism twice and get the original prism. The system can certainly be expanded to support this, though.</p><p>Exotic optics like grates or achromatic lenses are not implemented because, well, they are exotic and implementing them  would require a change in the current design which is dead simple.</p>

</div>

<div class="bottom-actions" id="bottom-actions">
  <div class="bottom-actions-item">

  </div>
  <div class="bottom-actions-item">

      <a href="showcase.html" class="bottom-actions-button" rel="next">
        <span class="subheader">
          Next Page →
        </span>
        <span class="title">
Showcase
        </span>
      </a>

  </div>
</div>
    <footer class="footer">
      <p>

          <span class="line">
            <a href="https://hex.pm/packages/concrete_optics/0.1.0" class="footer-hex-package">Hex Package</a>

            <a href="https://preview.hex.pm/preview/concrete_optics/0.1.0">Hex Preview</a>

              (<a href="https://preview.hex.pm/preview/concrete_optics/0.1.0/show/doc-extras/intro.md">current file</a>)

          </span>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.38.4) for the

          <a href="https://elixir-lang.org" title="Elixir" target="_blank" translate="no">Elixir programming language</a>

      </p>

    </footer>
  </div>
</main>
</div>

  </body>
</html>
